# aquaticket-front-vite 프로젝트 구조

이 문서는 `aquaticket-front-vite` 프로젝트의 주요 디렉토리 및 파일 구조와 각 기능에 대해 설명합니다.

## 최상위 디렉토리 구조

```
aquaticket-front-vite/
├── .env                # 환경 변수 설정 파일
├── .gitignore          # Git 버전 관리에서 제외할 파일 및 디렉토리 목록
├── eslint.config.js    # ESLint 설정 파일
├── index.html          # 애플리케이션의 진입점 HTML 파일
├── package.json        # 프로젝트 정보, 의존성 및 스크립트 정의
├── postcss.config.js   # PostCSS 설정 파일
├── tailwind.config.js  # Tailwind CSS 설정 파일
├── tsconfig.json       # TypeScript 컴파일러 설정
├── vite.config.ts      # Vite 설정 파일
├── public/             # 정적 파일 (이미지 등)
└── src/                # 애플리케이션 소스 코드
```

## `src` 디렉토리 상세 구조

`src` 디렉토리는 애플리케이션의 핵심 로직을 포함하고 있으며, 기능별로 하위 디렉토리를 구성하여 모듈화되어 있습니다.

```
src/
├── App.css                 # App 컴포넌트 전용 CSS
├── App.tsx                 # 최상위 루트 컴포넌트 및 라우팅 설정
├── index.css               # 전역 CSS 스타일
├── main.tsx                # 애플리케이션 시작점 (React DOM 렌더링)
├── vite-env.d.ts           # Vite 환경 변수 타입 정의
│
├── api/                    # 백엔드 API 연동 관련 모듈
│   ├── auth.ts             # 인증 (로그인, 회원가입) 관련 API
│   ├── axiosInstance.ts    # Axios 인스턴스 생성 및 설정
│   ├── booking.ts          # 예매 관련 API
│   ├── http.ts             # Axios 인스턴스 기본 설정 (baseURL, interceptor)
│   ├── kopis.normalizers.ts # KOPIS API 데이터 정규화
│   ├── kopis.ts            # KOPIS API 연동
│   ├── kopis.types.ts      # KOPIS API 데이터 타입 정의
│   └── showtime.ts         # 공연 시간 관련 API
│
├── assets/                 # 로고, 아이콘 등 정적 에셋
│
├── components/             # 재사용 가능한 UI 컴포넌트
│   ├── GenreNav.tsx        # 장르 탐색 메뉴 컴포넌트
│   └── Header.tsx          # 페이지 상단 헤더 컴포넌트
│
├── css/                    # 페이지 또는 기능별 CSS 파일
│
├── pages/                  # 각 페이지를 구성하는 컴포넌트
│   ├── BookGate.tsx        # 예매 시작 페이지
│   ├── BookPage.tsx        # 예매 진행 페이지
│   ├── CategoryList.tsx    # 카테고리별 공연 목록 페이지
│   ├── LoginCallback.tsx   # 소셜 로그인 콜백 처리 페이지
│   ├── LoginPage.tsx       # 로그인 페이지
│   ├── MyPage.tsx          # 마이페이지
│   ├── PerformanceDetail.tsx # 공연 상세 정보 페이지
│   ├── PerformanceList.tsx # 공연 목록 페이지
│   └── RegisterPage.tsx    # 회원가입 페이지
│
└── routes/                 # 라우팅 관련 로직
    └── RequireAuth.tsx     # 인증이 필요한 라우트를 보호하는 컴포넌트
```

## 주요 기능 및 흐름

1.  **애플리케이션 진입 (`main.tsx`, `index.html`)**
    *   `index.html`이 최초 로드되고, `main.tsx` 스크립트가 실행됩니다.
    *   `main.tsx`는 `App` 컴포넌트를 `<BrowserRouter>`로 감싸서 React DOM에 렌더링합니다.

2.  **라우팅 (`App.tsx`)**
    *   `App.tsx`는 `react-router-dom`의 `Routes`와 `Route`를 사용하여 페이지 경로와 컴포넌트를 매핑합니다.
    *   `/` 경로는 `/performances`로 리다이렉트됩니다.
    *   인증이 필요한 경로는 `RequireAuth` 컴포넌트로 감싸서 접근을 제어합니다.

3.  **API 통신 (`api/` 디렉토리)**
    *   `api/http.ts`에 정의된 `axios` 인스턴스를 사용하여 백엔드 서버(`http://localhost:8080/api`)와 통신합니다.
    *   `vite.config.ts`의 프록시 설정을 통해 CORS 문제를 우회합니다.
    *   `auth.ts`, `booking.ts` 등 기능별로 API 요청 함수를 모듈화하여 관리합니다.

4.  **상태 관리 및 UI**
    *   각 컴포넌트는 `useState`, `useEffect` 등 React Hook을 사용하여 자체 상태를 관리합니다.
    *   전역 상태 관리가 필요할 경우, React Context API나 외부 라이브러리(현재는 미사용)를 사용할 수 있습니다.
    *   UI는 Tailwind CSS를 기반으로 스타일링되며, 각 컴포넌트 또는 페이지별로 CSS 파일이 분리되어 있습니다.

5.  **인증 (`RequireAuth.tsx`, `pages/LoginPage.tsx`)**
    *   사용자가 로그인이 필요한 페이지에 접근 시, `RequireAuth` 컴포넌트가 토큰(localStorage의 `accessToken`) 유무를 확인합니다.
    *   토큰이 없으면 `/login` 페이지로 리다이렉트합니다.
    *   로그인 성공 시 토큰을 저장하고, 다른 탭과의 동기화를 위해 `storage` 이벤트를 사용합니다.
